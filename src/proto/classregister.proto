syntax = "proto3";

import "google/protobuf/timestamp.proto";

option csharp_namespace = "ESchool.ClassRegister.Grpc";

service LessonService {
  rpc GetLessonInfoForHomeAssignments(LessonInfoForHomeAssignmentsRequest) returns (LessonInfoForHomeAssignmentsResponse);
  rpc ListStudentsAndTeachersForLesson(StudentAndTeacherListRequest) returns (StudentAndTeacherListResponse);
}

service UserService {
  rpc GetStudent(UserGetRequest) returns (UserGetResponse);
  rpc GetTeacher(UserGetRequest) returns (UserGetResponse);
  rpc GetUser(IdentityUserGetRequest) returns (IdentityUserGetResponse);
}

message LessonInfoForHomeAssignmentsRequest {
  string id = 1;
}

message LessonInfoForHomeAssignmentsResponse {
  string id = 1;
  string title = 2;
  string classId = 3;
  string schoolYearId = 4;
  string subjectId = 5;
}

message IdentityUserGetRequest {
  string id = 1;
}

message IdentityUserGetResponse {
  string id = 1;
  string name = 2;
}

message UserGetRequest {
  string id = 1;  
}

message UserGetResponse {
  string id = 1;
  string name = 2;
  string userId = 3;
}

message StudentAndTeacherListRequest {
  string lessonId = 1;
}

message StudentAndTeacherListResponse {
  repeated string studentIds = 1;
  repeated string teacherIds = 2;
}